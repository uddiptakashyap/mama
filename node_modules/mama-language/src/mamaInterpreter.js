class MAMAInterpreter {
    constructor() {
        this.variables = {};
    }

    throwError(errorMessage) {
        console.error(errorMessage);
        process.exit(1);
    }

    executeCode(mamaCode) {
        const jsCode = mamaCode
            .replace(/mama\.kok/g, 'console.log')
            .replace(/mama aitu (\w+);/g, 'const $1 = undefined;')
            .replace(/mama aitu (\w+) = (.+);/g, 'const $1 = $2;')
            .replace(/mama aitu change hba pare (\w+);/g, 'let $1;')
            .replace(/mama aitu change hba pare (\w+) = (.+);/g, 'let $1 = $2;')
            .replace(/(\w+) = (.+);/g, '$1 = $2;')
            .replace(/mama saok \((.+)\) {/g, 'if ($1) {')
            .replace(/} jdi nohoi mama saok \((.+)\)  {/g, '} else if ($1) {')
            .replace(/} jdi nohoi {/g, '} else {')
            .replace(/} jdi nohoi/g, '}')
            .replace(/mama ghura \(([^;]+);([^;]+);([^)]+)\) {/g, 'for ($1; $2; $3) {')
            .replace(/mama rkhi jaok;/g, 'break;')
            .replace(/mama jai thakok;/g, 'continue;');

        try {
            eval(jsCode);
        } catch (error) {
            this.throwError("AAAO HORI AAOO RAM KI KRILA BABA/MAINA, SCOOTY NAPABA KIN2");
        }
    }
}

module.exports = MAMAInterpreter;
