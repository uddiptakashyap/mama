const fs = require('fs');
const path = require('path');
const MAMAInterpreter = require('./mamaInterpreter');

const runFile = (filename) => {
  const mamaCode = fs.readFileSync(filename, 'utf-8');
  const mamaInterpreter = new MAMAInterpreter();
  mamaInterpreter.executeCode(mamaCode);
};

// Get the file path from the command line argument
const filename = process.argv[2];

if (!filename) {
  console.error('Usage: mama <filename>');
  process.exit(1);
}

// Resolve the file path relative to the current working directory
const filePath = path.resolve(process.cwd(), filename);

runFile(filePath);